'use client';
"use strict";var e=require("react"),n=function(){return n=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var u in n=arguments[t])Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u]);return e},n.apply(this,arguments)};var t=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.filter(Boolean).join(" ")},r=function(e,n){for(var t=[],r=e;r<n;r+=1)t.push(r);return t},u=function(e,n){for(var t=[],r=e;r!==n;)t.push(r),10===(r+=1)&&(r=0);return t},i=function(e,n){var t=Math.random()*(n-e);return Math.floor(t+e)},a=function(e){for(var n,t=function(e,n,t){if(t||2===arguments.length)for(var r,u=0,i=n.length;u<i;u++)!r&&u in n||(r||(r=Array.prototype.slice.call(n,0,u)),r[u]=n[u]);return e.concat(r||Array.prototype.slice.call(n))}([],e,!0),r=t.length-1;r>0;r-=1){var u=Math.floor(Math.random()*(r+1));n=[t[u],t[r]],t[r]=n[0],t[u]=n[1]}return t},o=function(e){return"number"==typeof e?e:(Array.isArray(e)?e.join(""):e).replace(/[,.]/g,"")},l=function(e){return"object"!=typeof e&&!Number.isNaN(o(e))},s=function(e){return"object"==typeof e};var c="index-module_slot_wrap__ZT-DX",f="index-module_slot__DpPgW",d="index-module_separator__7GhtE",m="index-module_numbers__sqlqm",v="index-module_num__j6XH3";!function(e,n){void 0===n&&(n={});var t=n.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],u=document.createElement("style");u.type="text/css","top"===t&&r.firstChild?r.insertBefore(u,r.firstChild):r.appendChild(u),u.styleSheet?u.styleSheet.cssText=e:u.appendChild(document.createTextNode(e))}}(".index-module_slot_wrap__ZT-DX {\n  display: inline-block;\n  white-space: nowrap;\n}\n\n.index-module_slot__DpPgW {\n  display: inline-block;\n  overflow: hidden;\n  text-align: center;\n  vertical-align: middle;\n  will-change: transform;\n}\n\n.index-module_separator__7GhtE {\n  display: inline-block;\n  vertical-align: middle;\n  text-align: center;\n}\n\n.index-module_numbers__sqlqm {\n  display: block;\n}\n\n.index-module_num__j6XH3 {\n  display: block;\n}");var h="undefined"!=typeof window?e.useLayoutEffect:e.useEffect;var p=e.memo((function(r){var u,i,o=r.isNew,l=r.charClassName,s=r.numbersRef,c=r.active,d=r.isChanged,p=r.effectiveDuration,g=r.delay,y=r.value,b=r.startValue,C=r.disableStartValue,N=r.dummyList,S=r.hasSequentialDummyList,_=r.hasInfiniteList,E=r.valueClassName,x=r.numberSlotClassName,A=r.numberClassName,M=r.reverse,R=r.sequentialAnimationMode,w=r.useMonospaceWidth,k=r.maxNumberWidth,j=r.onFontHeightChange,T=e.useState(!1),D=T[0],q=T[1],O=e.useState(y),I=O[0],L=O[1],P=e.useRef(),V=e.useRef(y),W=e.useRef(null),F=e.useState(0),B=F[0],H=F[1],X=e.useState(S?N:a(N)),Y=X[0],z=X[1],G=e.useState(!1),Z=G[0],J=G[1],U=B*(N.length+1);h((function(){J(!0)}),[]),h((function(){var e,n;H(null!==(n=null===(e=W.current)||void 0===e?void 0:e.getBoundingClientRect().height)&&void 0!==n?n:0)}),[Z]),e.useEffect((function(){c?requestAnimationFrame((function(){q(c)})):q(c)}),[c]),e.useEffect((function(){var e=W.current;if(B&&e&&"undefined"!=typeof ResizeObserver){var n=new ResizeObserver((function(e){var n=e[0].contentRect.height;B!=n&&(null==j||j(n))}));return n.observe(e),function(){n.disconnect()}}}),[B,j]),e.useMemo((function(){C&&(P.current=V.current)}),[C]),e.useEffect((function(){D&&(P.current=V.current,V.current=y,setTimeout((function(){return L(y)}),R?0:1e3*p*1.3/N.length+1e3*g))}),[D,y,p,g,N.length,R]),e.useEffect((function(){z(S?N:a(N))}),[y,N,S]);var K=function(){return Y.map((function(n,r){return e.createElement("span",{key:r,className:t(v,A),"aria-hidden":"true"},n)}))},Q=M?I:null!=b?b:I;R&&(Q=M?I:null!==(u=null!=b?b:P.current)&&void 0!==u?u:I,R&&o&&!M&&(Q=""));var $=M&&null!=b?b:I;return R&&($=M&&null!==(i=null!=b?b:P.current)&&void 0!==i?i:I),e.createElement("span",{className:t(f,l),style:{display:"inline-block",width:Z&&w?k:void 0,height:Z?B:void 0}},e.createElement("span",{ref:s,className:t(m,x),style:n({transition:"none",transform:M?"translateY(-".concat(U,"px)"):"translateY(0px)"},D&&d&&{transform:M?"translateY(0px)":"translateY(-".concat(U,"px)"),transition:"transform ".concat(p,"s ").concat(g,"s ease-in-out")})},Z?e.createElement(e.Fragment,null,e.createElement("span",{className:t(v,A),"aria-hidden":"true",style:{height:B}},Q),K(),e.createElement("span",{className:t(v,A,E),ref:W},$),_?K():null):e.createElement("span",{className:t(v,A),"aria-hidden":"true"},null!=b?b:I)))}));var g=[",","."," "],y=/\u0020/,b=/\u00A0/,C=/\u202F/;var N=e.memo(e.forwardRef((function(n,a){var f,m,v,N,S,_,E,x,A,M,R=n.value,w=n.startValue,k=n.startValueOnce,j=void 0!==k&&k,T=n.duration,D=void 0===T?.7:T,q=n.dummyCharacters,O=n.dummyCharacterCount,I=void 0===O?6:O,L=n.autoAnimationStart,P=void 0===L||L,V=n.containerClassName,W=n.charClassName,F=n.separatorClassName,B=n.valueClassName,H=n.numberSlotClassName,X=n.numberClassName,Y=n.animateUnchanged,z=void 0!==Y&&Y,G=n.hasInfiniteList,Z=void 0!==G&&G,J=n.sequentialAnimationMode,U=void 0!==J&&J,K=n.useMonospaceWidth,Q=void 0!==K&&K,$=n.direction,ee=n.debounceDelay,ne=n.animateOnVisible,te=function(n,t){var r=e.useState(n),u=r[0],i=r[1];return e.useEffect((function(){if(0===t)return i(n);var e=setTimeout((function(){i(n)}),t);return function(){clearTimeout(e)}}),[n,t]),u}(R,null!=ee?ee:0),re=e.useMemo((function(){return function(e){return Array.isArray(e)&&s(e[0])}(te)?"":"object"==typeof te?JSON.stringify(te):te.toString()}),[te]),ue=e.useState(!1),ie=ue[0],ae=ue[1],oe=e.useRef(),le=e.useRef(null),se=e.useRef(null),ce=e.useRef(w),fe=e.useMemo((function(){return"boolean"==typeof ne?ne:"object"==typeof ne||void 0}),[ne]),de=e.useMemo((function(){return"object"==typeof ne?ne.rootMargin:void 0}),[ne]),me=e.useMemo((function(){return"object"==typeof ne?ne.triggerOnce:void 0}),[ne]),ve=e.useRef(!0),he=!fe&&P,pe=e.useRef(null==w||he?te:w),ge=e.useRef(w),ye=e.useRef(0),be=e.useRef(0),Ce=e.useState([]),Ne=Ce[0],Se=Ce[1],_e=e.useRef(),Ee=e.useState(0),xe=Ee[0],Ae=Ee[1],Me=e.useState(),Re=Me[0],we=Me[1],ke=e.useRef(!1),je=null!=w&&(!j||ye.current<1),Te=null!==(m=null===(f=oe.current)||void 0===f?void 0:f.dummyCharacterCount)&&void 0!==m?m:I,De=null!==(N=null===(v=oe.current)||void 0===v?void 0:v.duration)&&void 0!==N?N:D,qe=e.useCallback((function(){var e=se.current;if(e){var n=r(0,10).map((function(n){var t=document.createElement("span");t.className=null!=B?B:"",t.style.position="absolute",t.style.top="0",t.style.left="-9999px",t.style.visibility="hidden",t.textContent=n.toString(),e.appendChild(t);var r=t.getBoundingClientRect().width;return e.removeChild(t),r})),t=Math.max.apply(Math,n);we(t)}}),[B]);h((function(){var e;qe(),null===(e=document.fonts)||void 0===e||e.ready.then((function(){qe()}))}),[]),e.useEffect((function(){Se(r(0,Te-1).map((function(e){if(!q)return i(0,10);var n=e>=q.length?i(0,q.length):e;return q[n]})))}),[q,Te]),pe.current!==te&&ke.current&&be.current>0&&(ge.current=pe.current,pe.current=te);var Oe=Array.isArray(ge.current)?ge.current:null!==(_=null===(S=ge.current)||void 0===S?void 0:S.toString().split(""))&&void 0!==_?_:[],Ie=Array.isArray(pe.current)?pe.current:null!==(x=null===(E=pe.current)||void 0===E?void 0:E.toString().split(""))&&void 0!==x?x:[],Le=Array.isArray(ce.current)?ce.current:null!==(M=null===(A=ce.current)||void 0===A?void 0:A.toString().split(""))&&void 0!==M?M:[],Pe=e.useMemo((function(){return Array.isArray(te)?te:null==te?void 0:te.toString().split("")}),[te]),Ve=e.useMemo((function(){return Array.isArray(w)?w:null==w?void 0:w.toString().split("")}),[w]),We=Oe.length!==Ie.length,Fe=[];Ie.forEach((function(e,n){var t=Ie.length-n-1,r=je?Le:Oe;(Ie[t]!==r[t]||We||z)&&Fe.push(t)})),Fe.reverse();var Be=e.useMemo((function(){return Math.min(.1,De/Pe.length)}),[De,Pe.length]),He=e.useCallback((function(){_e.current&&clearTimeout(_e.current),ae(!1),ye.current=be.current,ye.current+=1,_e.current=setTimeout((function(){be.current+=1,ae(!0)}),20)}),[]),Xe=e.useCallback((function(e){var n=je?w:ge.current;if(null==n||!l(n)||!l(te))return[];var t=n.toString().length,r=te.toString().length,i=t<r,a=Math.abs(t-r),s=Number(o(n.toString())),c=Number(o(te.toString())),f=Number(s.toString()[i?-a+e:a+e]||0),d=Number(c.toString()[e]||0);return d===f?[]:s<c?u((f+1)%10,d):u((d+1)%10,f)}),[je,te,w]),Ye=e.useCallback((function(){Ae((function(e){return e+1})),qe()}),[qe]);e.useEffect((function(){(ke.current||null!=ge.current)&&(ke.current||null==ce.current)&&(ke.current||he)&&He()}),[re,He,he]),e.useEffect((function(){he&&He()}),[he,He]),e.useEffect((function(){requestAnimationFrame((function(){ke.current=!0}))}),[]),e.useImperativeHandle(a,(function(){return{startAnimation:Qe,refreshStyles:Ye}}));var ze=null==w||he||0!==ye.current?Pe:Ve||[],Ge=((null==Ve?void 0:Ve.length)||0)-ze.length,Ze=function(n){var t,r=e.useRef(n),u=e.useRef(r.current),i=n.join(","),a=null===(t=r.current)||void 0===t?void 0:t.join(",");return e.useEffect((function(){a!==i&&(u.current=(null==a?void 0:a.split(","))||[],r.current=i.split(","))}),[i,a]),{getPrevDependencies:e.useCallback((function(){return u.current}),[]),setPrevDependenciesToSameAsCurrent:e.useCallback((function(){u.current=r.current}),[])}}(ze),Je=Ze.getPrevDependencies,Ue=Ze.setPrevDependenciesToSameAsCurrent,Ke=ze.length-Je().length,Qe=e.useCallback((function(e){null==w||j||(ge.current=void 0),oe.current=e,He(),Ue()}),[w,j,He,Ue]),$e=e.useMemo((function(){return e=function(){Ye()},n=0,function(){for(var r=[],u=0;u<arguments.length;u++)r[u]=arguments[u];clearTimeout(t),t=setTimeout((function(){e.apply(void 0,r)}),n)};var e,n,t}),[Ye]);e.useEffect((function(){if(fe&&le.current){var e=new IntersectionObserver((function(t){t[0].isIntersecting&&ve.current&&(Qe(),ve.current=!1,me&&(e.disconnect(),n.disconnect()))}),{rootMargin:de,threshold:1}),n=new IntersectionObserver((function(e){e[0].isIntersecting||(ve.current=!0)}),{threshold:0});return e.observe(le.current),n.observe(le.current),function(){e.disconnect(),n.disconnect()}}}),[fe,de,me,Qe]);var en=-1;return e.createElement("span",{key:xe,ref:le,className:t(V,c)},ze.map((function(n,r){var u,i,a=Fe.includes(r),c=(a?Fe.indexOf(r):0)*Be,f=ge.current,m=null!=w&&!!j&&ye.current>1,v=null!=te&&null!=f&&l(te)&&l(f)&&o(te)<o(f);if((null===(u=oe.current)||void 0===u?void 0:u.direction)&&(v="top-down"===(null===(i=oe.current)||void 0===i?void 0:i.direction)),$&&(v="top-down"===$),!s(n)&&(g.includes(n)||y.test(n)||b.test(n)||C.test(n)))return e.createElement("span",{key:Ie.length-r-1,className:t(d,F)},n);var h=U&&(!he||be.current>1);return en+=1,e.createElement(p,{key:ze.length-r-1,index:r,isNew:Ke>0&&r<Ke,maxNumberWidth:Re,numbersRef:se,active:ie,isChanged:a,charClassName:W,effectiveDuration:De,delay:c,value:n,startValue:m||null==Ve?void 0:Ve[r+Ge],disableStartValue:m,dummyList:h?Xe(en):Ne,hasSequentialDummyList:h,hasInfiniteList:Z,valueClassName:B,numberSlotClassName:H,numberClassName:X,reverse:v,sequentialAnimationMode:U,useMonospaceWidth:Q,onFontHeightChange:$e})})))})));module.exports=N;
//# sourceMappingURL=index.js.map
