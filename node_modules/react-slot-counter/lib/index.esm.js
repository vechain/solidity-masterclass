'use client';
import n,{memo as e,useState as t,useRef as r,useEffect as i,useMemo as u,useCallback as o,forwardRef as a,useImperativeHandle as l}from"react";var c=function(){return c=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},c.apply(this,arguments)};var s=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return n.filter(Boolean).join(" ")},d=function(n,e){for(var t=[],r=n;r<e;r+=1)t.push(r);return t},f=function(n,e){for(var t=[],r=n;r!==e;)t.push(r),10===(r+=1)&&(r=0);return t},m=function(n,e){var t=Math.random()*(e-n);return Math.floor(t+n)},v=function(n){for(var e,t=function(n,e,t){if(t||2===arguments.length)for(var r,i=0,u=e.length;i<u;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return n.concat(r||Array.prototype.slice.call(e))}([],n,!0),r=t.length-1;r>0;r-=1){var i=Math.floor(Math.random()*(r+1));e=[t[i],t[r]],t[r]=e[0],t[i]=e[1]}return t},h=function(n){return"number"==typeof n?n:(Array.isArray(n)?n.join(""):n).replace(/[,.]/g,"")},p=function(n){return"object"!=typeof n&&!Number.isNaN(h(n))},g=function(n){return"object"==typeof n};var y="index-module_slot_wrap__ZT-DX",b="index-module_slot__DpPgW",N="index-module_separator__7GhtE",C="index-module_numbers__sqlqm",_="index-module_num__j6XH3";!function(n,e){void 0===e&&(e={});var t=e.insertAt;if(n&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===t&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n))}}(".index-module_slot_wrap__ZT-DX {\n  display: inline-block;\n  white-space: nowrap;\n}\n\n.index-module_slot__DpPgW {\n  display: inline-block;\n  overflow: hidden;\n  text-align: center;\n  vertical-align: middle;\n  will-change: transform;\n}\n\n.index-module_separator__7GhtE {\n  display: inline-block;\n  vertical-align: middle;\n  text-align: center;\n}\n\n.index-module_numbers__sqlqm {\n  display: block;\n}\n\n.index-module_num__j6XH3 {\n  display: block;\n}");var x="undefined"!=typeof window?n.useLayoutEffect:n.useEffect;var A=e((function(e){var o,a,l=e.isNew,d=e.charClassName,f=e.numbersRef,m=e.active,h=e.isChanged,p=e.effectiveDuration,g=e.delay,y=e.value,N=e.startValue,A=e.disableStartValue,S=e.dummyList,w=e.hasSequentialDummyList,E=e.hasInfiniteList,M=e.valueClassName,j=e.numberSlotClassName,T=e.numberClassName,D=e.reverse,O=e.sequentialAnimationMode,q=e.useMonospaceWidth,k=e.maxNumberWidth,L=e.onFontHeightChange,I=t(!1),P=I[0],R=I[1],V=t(y),W=V[0],F=V[1],B=r(),H=r(y),X=r(null),Y=t(0),z=Y[0],G=Y[1],Z=t(w?S:v(S)),J=Z[0],U=Z[1],K=t(!1),Q=K[0],$=K[1],nn=z*(S.length+1);x((function(){$(!0)}),[]),x((function(){var n,e;G(null!==(e=null===(n=X.current)||void 0===n?void 0:n.getBoundingClientRect().height)&&void 0!==e?e:0)}),[Q]),i((function(){m?requestAnimationFrame((function(){R(m)})):R(m)}),[m]),i((function(){var n=X.current;if(z&&n&&"undefined"!=typeof ResizeObserver){var e=new ResizeObserver((function(n){var e=n[0].contentRect.height;z!=e&&(null==L||L(e))}));return e.observe(n),function(){e.disconnect()}}}),[z,L]),u((function(){A&&(B.current=H.current)}),[A]),i((function(){P&&(B.current=H.current,H.current=y,setTimeout((function(){return F(y)}),O?0:1e3*p*1.3/S.length+1e3*g))}),[P,y,p,g,S.length,O]),i((function(){U(w?S:v(S))}),[y,S,w]);var en=function(){return J.map((function(e,t){return n.createElement("span",{key:t,className:s(_,T),"aria-hidden":"true"},e)}))},tn=D?W:null!=N?N:W;O&&(tn=D?W:null!==(o=null!=N?N:B.current)&&void 0!==o?o:W,O&&l&&!D&&(tn=""));var rn=D&&null!=N?N:W;return O&&(rn=D&&null!==(a=null!=N?N:B.current)&&void 0!==a?a:W),n.createElement("span",{className:s(b,d),style:{display:"inline-block",width:Q&&q?k:void 0,height:Q?z:void 0}},n.createElement("span",{ref:f,className:s(C,j),style:c({transition:"none",transform:D?"translateY(-".concat(nn,"px)"):"translateY(0px)"},P&&h&&{transform:D?"translateY(0px)":"translateY(-".concat(nn,"px)"),transition:"transform ".concat(p,"s ").concat(g,"s ease-in-out")})},Q?n.createElement(n.Fragment,null,n.createElement("span",{className:s(_,T),"aria-hidden":"true",style:{height:z}},tn),en(),n.createElement("span",{className:s(_,T,M),ref:X},rn),E?en():null):n.createElement("span",{className:s(_,T),"aria-hidden":"true"},null!=N?N:W)))}));var S=[",","."," "],w=/\u0020/,E=/\u00A0/,M=/\u202F/;var j=e(a((function(e,a){var c,v,b,C,_,j,T,D,O,q,k=e.value,L=e.startValue,I=e.startValueOnce,P=void 0!==I&&I,R=e.duration,V=void 0===R?.7:R,W=e.dummyCharacters,F=e.dummyCharacterCount,B=void 0===F?6:F,H=e.autoAnimationStart,X=void 0===H||H,Y=e.containerClassName,z=e.charClassName,G=e.separatorClassName,Z=e.valueClassName,J=e.numberSlotClassName,U=e.numberClassName,K=e.animateUnchanged,Q=void 0!==K&&K,$=e.hasInfiniteList,nn=void 0!==$&&$,en=e.sequentialAnimationMode,tn=void 0!==en&&en,rn=e.useMonospaceWidth,un=void 0!==rn&&rn,on=e.direction,an=e.debounceDelay,ln=e.animateOnVisible,cn=function(n,e){var r=t(n),u=r[0],o=r[1];return i((function(){if(0===e)return o(n);var t=setTimeout((function(){o(n)}),e);return function(){clearTimeout(t)}}),[n,e]),u}(k,null!=an?an:0),sn=u((function(){return function(n){return Array.isArray(n)&&g(n[0])}(cn)?"":"object"==typeof cn?JSON.stringify(cn):cn.toString()}),[cn]),dn=t(!1),fn=dn[0],mn=dn[1],vn=r(),hn=r(null),pn=r(null),gn=r(L),yn=u((function(){return"boolean"==typeof ln?ln:"object"==typeof ln||void 0}),[ln]),bn=u((function(){return"object"==typeof ln?ln.rootMargin:void 0}),[ln]),Nn=u((function(){return"object"==typeof ln?ln.triggerOnce:void 0}),[ln]),Cn=r(!0),_n=!yn&&X,xn=r(null==L||_n?cn:L),An=r(L),Sn=r(0),wn=r(0),En=t([]),Mn=En[0],jn=En[1],Tn=r(),Dn=t(0),On=Dn[0],qn=Dn[1],kn=t(),Ln=kn[0],In=kn[1],Pn=r(!1),Rn=null!=L&&(!P||Sn.current<1),Vn=null!==(v=null===(c=vn.current)||void 0===c?void 0:c.dummyCharacterCount)&&void 0!==v?v:B,Wn=null!==(C=null===(b=vn.current)||void 0===b?void 0:b.duration)&&void 0!==C?C:V,Fn=o((function(){var n=pn.current;if(n){var e=d(0,10).map((function(e){var t=document.createElement("span");t.className=null!=Z?Z:"",t.style.position="absolute",t.style.top="0",t.style.left="-9999px",t.style.visibility="hidden",t.textContent=e.toString(),n.appendChild(t);var r=t.getBoundingClientRect().width;return n.removeChild(t),r})),t=Math.max.apply(Math,e);In(t)}}),[Z]);x((function(){var n;Fn(),null===(n=document.fonts)||void 0===n||n.ready.then((function(){Fn()}))}),[]),i((function(){jn(d(0,Vn-1).map((function(n){if(!W)return m(0,10);var e=n>=W.length?m(0,W.length):n;return W[e]})))}),[W,Vn]),xn.current!==cn&&Pn.current&&wn.current>0&&(An.current=xn.current,xn.current=cn);var Bn=Array.isArray(An.current)?An.current:null!==(j=null===(_=An.current)||void 0===_?void 0:_.toString().split(""))&&void 0!==j?j:[],Hn=Array.isArray(xn.current)?xn.current:null!==(D=null===(T=xn.current)||void 0===T?void 0:T.toString().split(""))&&void 0!==D?D:[],Xn=Array.isArray(gn.current)?gn.current:null!==(q=null===(O=gn.current)||void 0===O?void 0:O.toString().split(""))&&void 0!==q?q:[],Yn=u((function(){return Array.isArray(cn)?cn:null==cn?void 0:cn.toString().split("")}),[cn]),zn=u((function(){return Array.isArray(L)?L:null==L?void 0:L.toString().split("")}),[L]),Gn=Bn.length!==Hn.length,Zn=[];Hn.forEach((function(n,e){var t=Hn.length-e-1,r=Rn?Xn:Bn;(Hn[t]!==r[t]||Gn||Q)&&Zn.push(t)})),Zn.reverse();var Jn=u((function(){return Math.min(.1,Wn/Yn.length)}),[Wn,Yn.length]),Un=o((function(){Tn.current&&clearTimeout(Tn.current),mn(!1),Sn.current=wn.current,Sn.current+=1,Tn.current=setTimeout((function(){wn.current+=1,mn(!0)}),20)}),[]),Kn=o((function(n){var e=Rn?L:An.current;if(null==e||!p(e)||!p(cn))return[];var t=e.toString().length,r=cn.toString().length,i=t<r,u=Math.abs(t-r),o=Number(h(e.toString())),a=Number(h(cn.toString())),l=Number(o.toString()[i?-u+n:u+n]||0),c=Number(a.toString()[n]||0);return c===l?[]:o<a?f((l+1)%10,c):f((c+1)%10,l)}),[Rn,cn,L]),Qn=o((function(){qn((function(n){return n+1})),Fn()}),[Fn]);i((function(){(Pn.current||null!=An.current)&&(Pn.current||null==gn.current)&&(Pn.current||_n)&&Un()}),[sn,Un,_n]),i((function(){_n&&Un()}),[_n,Un]),i((function(){requestAnimationFrame((function(){Pn.current=!0}))}),[]),l(a,(function(){return{startAnimation:ue,refreshStyles:Qn}}));var $n=null==L||_n||0!==Sn.current?Yn:zn||[],ne=((null==zn?void 0:zn.length)||0)-$n.length,ee=function(n){var e,t=r(n),u=r(t.current),a=n.join(","),l=null===(e=t.current)||void 0===e?void 0:e.join(",");return i((function(){l!==a&&(u.current=(null==l?void 0:l.split(","))||[],t.current=a.split(","))}),[a,l]),{getPrevDependencies:o((function(){return u.current}),[]),setPrevDependenciesToSameAsCurrent:o((function(){u.current=t.current}),[])}}($n),te=ee.getPrevDependencies,re=ee.setPrevDependenciesToSameAsCurrent,ie=$n.length-te().length,ue=o((function(n){null==L||P||(An.current=void 0),vn.current=n,Un(),re()}),[L,P,Un,re]),oe=u((function(){return n=function(){Qn()},e=0,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];clearTimeout(t),t=setTimeout((function(){n.apply(void 0,r)}),e)};var n,e,t}),[Qn]);i((function(){if(yn&&hn.current){var n=new IntersectionObserver((function(t){t[0].isIntersecting&&Cn.current&&(ue(),Cn.current=!1,Nn&&(n.disconnect(),e.disconnect()))}),{rootMargin:bn,threshold:1}),e=new IntersectionObserver((function(n){n[0].isIntersecting||(Cn.current=!0)}),{threshold:0});return n.observe(hn.current),e.observe(hn.current),function(){n.disconnect(),e.disconnect()}}}),[yn,bn,Nn,ue]);var ae=-1;return n.createElement("span",{key:On,ref:hn,className:s(Y,y)},$n.map((function(e,t){var r,i,u=Zn.includes(t),o=(u?Zn.indexOf(t):0)*Jn,a=An.current,l=null!=L&&!!P&&Sn.current>1,c=null!=cn&&null!=a&&p(cn)&&p(a)&&h(cn)<h(a);if((null===(r=vn.current)||void 0===r?void 0:r.direction)&&(c="top-down"===(null===(i=vn.current)||void 0===i?void 0:i.direction)),on&&(c="top-down"===on),!g(e)&&(S.includes(e)||w.test(e)||E.test(e)||M.test(e)))return n.createElement("span",{key:Hn.length-t-1,className:s(N,G)},e);var d=tn&&(!_n||wn.current>1);return ae+=1,n.createElement(A,{key:$n.length-t-1,index:t,isNew:ie>0&&t<ie,maxNumberWidth:Ln,numbersRef:pn,active:fn,isChanged:u,charClassName:z,effectiveDuration:Wn,delay:o,value:e,startValue:l||null==zn?void 0:zn[t+ne],disableStartValue:l,dummyList:d?Kn(ae):Mn,hasSequentialDummyList:d,hasInfiniteList:nn,valueClassName:Z,numberSlotClassName:J,numberClassName:U,reverse:c,sequentialAnimationMode:tn,useMonospaceWidth:un,onFontHeightChange:oe})})))})));export{j as default};
//# sourceMappingURL=index.esm.js.map
